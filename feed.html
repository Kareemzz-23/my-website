<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Blog Feed</title>
  <link rel="stylesheet" href="homestyle.css">
  <style>
    .feed-container { max-width: 700px; margin: 40px auto; }
    .post-bubble {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      padding: 24px;
      margin-bottom: 24px;
      display: flex;
      align-items: flex-start;
      gap: 16px;
    }
    .post-bubble img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      object-fit: cover;
    }
    .post-content { flex: 1; color:black !important;
}
    .post-author { font-weight: bold; margin-bottom: 8px; }
    .post-time { color: #888; font-size: 0.9em; }
  </style>
</head>
<body>
  <div class="feed-container" id="feed"></div>
  <script>
    async function loadFeed() {
      const res = await fetch('https://fantastic-space-fishstick-r467wxg7qgjpcw5vx-3000.app.github.dev/posts');
      const posts = await res.json();
      const feed = document.getElementById('feed');
      feed.innerHTML = posts.reverse().map(post => `
        <div class="post-bubble">
          <img src="${post.profilePic || 'https://via.placeholder.com/60'}" alt="Profile">
          <div class="post-content">
            <div class="post-author">${post.author || 'Anonymous'}</div>
            <div class="post-time">${new Date(post.timestamp).toLocaleString()}</div>
            <div>${post.content}</div>
          </div>
        </div>
      `).join('');
    }
    loadFeed();
  </script>
</body>
</html>
